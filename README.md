Этот проект представляет собой RESTful API для каталога фильмов, разработанный на Python с использованием фреймворка FastAPI. API позволяет выполнять поиск, фильтрацию и получение информации о фильмах.

## Описание

API предоставляет следующие возможности:

•   **Поиск фильмов:** Поиск фильмов по названию, году выпуска, жанру и рейтингу.
•   **Фильтрация фильмов:** Фильтрация фильмов по различным критериям, таким как год выпуска, жанр и рейтинг.
•   **Получение информации о фильме:** Получение подробной информации о конкретном фильме.
•   **RESTful API:** API соответствует принципам REST, что упрощает интеграцию с различными клиентскими приложениями.

## Технологии

•   **Python:** Основной язык программирования.
•   **FastAPI:** Современный, высокопроизводительный веб-фреймворк для создания API на Python.
•   **Uvicorn:** Асинхронный сервер для запуска FastAPI приложений.
•   **SQLAlchemy:** ORM (Object-Relational Mapper) для работы с базами данных.
•   **Alembic:** Инструмент для миграций базы данных.
•   **Pydantic:** Библиотека для валидации данных и определения моделей данных.
•   **Httpx:** Клиент HTTP для асинхронных запросов (используется для взаимодействия с внешними API).
•   **Другие библиотеки:** (Укажите здесь другие библиотеки, которые используются в проекте, например, python-dotenv для управления переменными окружения).

## Установка
```
1.  **Клонируйте репозиторий:**
   bash
    git clone https://github.com/N30N4IK/webfilms
    cd Backend
```
```
2. Создайте виртуальное окружение (рекомендуется):
  bash
  python3 -m venv venv
  source venv/bin/activate # Для Linux/macOS
  venv\Scripts\activate.bat # Для Windows
```
```

3. Установите зависимости:
bash
  pip install -r req.txt
  
```
```

4. Настройте переменные окружения:

  •  Создайте файл .env в корне проекта.
  •  Определите необходимые переменные окружения, такие как:
    *  DATABASE_URL: URL для подключения к базе данных (например, postgresql://user:password@host:port/database).
    *  KINOPOISK_API_KEY: Ключ API Кинопоиска.
    *  CORS_ORIGINS: Список разрешенных доменов для CORS (например, http://localhost:3000,https://your-production-domain.com).
    *  SECRET_KEY: Секретный ключ для подписи JWT токенов (если используется аутентификация).

  Пример .env:

DATABASE_URL=postgresql://user:password@localhost:5432/movie_catalog
  KINOPOISK_API_KEY=RAXFWSF-BEW4PEJ-HMXH6WZ-EZAY68E
  CORS_ORIGINS=http://localhost:3000,https://your-production-domain.com
  SECRET_KEY=edff12440a5619da0c02d41f1a86085b0c67d7a15a7a758eca4abfd068eff6b6
  
```
```

5. Настройте базу данных:

  •  Убедитесь, что база данных, указанная в DATABASE_URL, существует.
  •  Выполните миграции Alembic для создания таблиц:
bash
    alembic upgrade head
    
```

```

▌Запуск

1. Запустите API:
bash
  uvicorn main:app --reload
  •  main - имя файла, содержащего FastAPI приложение (main.py).
  •  app - переменная, в которой объявлено FastAPI приложение (app = FastAPI()).
  •  --reload - включает автоматическую перезагрузку сервера при изменении кода (удобно для разработки).
```
```
2. Откройте документацию API:

  •  После запуска API, откройте в браузере URL /docs (http://127.0.0.1:8000/docs) для доступа к автоматически сгенерированной документации Swagger UI.

▌Использование API

Документация Swagger UI (доступная по адресу /docs) предоставляет подробную информацию о доступных endpoints, параметрах запросов и форматах ответов.

Примеры:

•  Поиск фильмов по названию: (Не реализовано)

  
```
```

•  Фильтрация фильмов по жанру "криминал" и году выпуска 2023: (Не реализовано)

  
```
```

•  Получение информации о конкретном фильме: (Не реализовано)

  
```
```

▌Миграции базы данных

Для управления изменениями в схеме базы данных используется Alembic.

•  Создание новой миграции:
bash
  alembic revision -m "Описание миграции"
  
```
```

•  Применение миграций:
bash
  alembic upgrade head
  
```
```

•  Откат миграций:
bash
  alembic downgrade base # или указать конкретную версию миграции
  
```
```

▌CORS

В этом проекте используется CORS (Cross-Origin Resource Sharing) для разрешения запросов с других доменов. Список разрешенных доменов указывается в переменной окружения CORS_ORIGINS. В production, убедитесь, что вы указали только те домены, которым доверяете.

▌Безопасность

•  API Key: API использует ключ API Кинопоиска для аутентификации запросов. Ключ API должен храниться в переменной окружения KINOPOISK_API_KEY и никогда не должен быть раскрыт в клиентском коде.
•  Валидация данных: Используйется Pydantic для валидации данных, поступающих в API, чтобы предотвратить инъекции и другие атаки. (Не реализовано)

▌Развертывание

Этот API можно развернуть на различных платформах, таких как:

•  Heroku: Бесплатная платформа для развертывания веб-приложений. (Уже нет)
•  AWS: Amazon Web Services (например, Elastic Beanstalk, ECS, Lambda).
•  Google Cloud: Google Cloud Platform (например, App Engine, Cloud Functions).
•  DigitalOcean: Платформа для развертывания виртуальных серверов.

▌Дальнейшее развитие

•  Добавление аутентификации пользователей.
•  Реализация системы рейтингов и отзывов.
•  Реализация поисковой функциональности.
•  Добавление документации для каждого endpoint.
•  Написание тестов.
•  Использование кэширования для повышения производительности.

▌Лицензия

-

```
